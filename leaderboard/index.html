<!doctype html><html><head><meta charset="utf-8"/><title>Leaderboard</title></head><body style="font-family:Arial;background:#111;color:#eee;padding:12px">
<h2>Leaderboard</h2>
<div>Profile: <input id="profile" value="default" /> Token: <input id="token" /></div>
<table id="table" border="0" cellpadding="6" style="margin-top:12px"><thead><tr><th>Place</th><th>Segment</th><th>Spins</th></tr></thead><tbody></tbody></table>
<script>
async function load(){ const p=document.getElementById('profile').value||'default'; const t=document.getElementById('token').value||''; try{ const res=await fetch('/public/leaderboard/data/'+p+'?token='+encodeURIComponent(t)); if(!res.ok){ document.querySelector('#table tbody').innerHTML='<tr><td colspan=3>Forbidden or invalid token</td></tr>'; return; } const stats=await res.json(); const entries=Object.entries(stats).sort((a,b)=>b[1]-a[1]); const tbody=document.querySelector('#table tbody'); tbody.innerHTML=''; entries.slice(0,10).forEach((e,i)=>{ const medal = i===0?'ðŸ‘‘':i===1?'ðŸ¥ˆ':i===2?'ðŸ¥‰':''; const tr=document.createElement('tr'); tr.innerHTML=`<td>${i+1}</td><td>${medal} ${e[0]}</td><td>${e[1]}</td>`; tbody.appendChild(tr); }); }catch(e){ console.error(e); } }
document.getElementById('profile').onchange = load; document.getElementById('token').onchange = load; load();
</script>
</body></html>